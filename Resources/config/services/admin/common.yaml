parameters:
    darvin_payment.admin.form.renderer.abstract.class: Darvin\PaymentBundle\Form\Renderer\AbstractFormRenderer

    darvin_payment.admin.view.widget.payment_event_level.class: Darvin\PaymentBundle\Admin\View\Widget\PaymentEventLevelWidget

    darvin_payment.admin.view.widget.payment_operation.class: Darvin\PaymentBundle\Admin\View\Widget\PaymentOperationWidget

    darvin_payment.admin.view.widget.payment_state.class: Darvin\PaymentBundle\Admin\View\Widget\PaymentStateWidget

services:
    darvin_payment.admin.form.renderer.abstract:
        class:    '%darvin_payment.admin.form.renderer.abstract.class%'
        abstract: true
        arguments:
            - '@darvin_payment.url.builder'
            - '@twig'
            - '@state_machine.payment'

    darvin_payment.admin.view.widget.payment_event_level:
        class:  '%darvin_payment.admin.view.widget.payment_event_level.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - '@translator'
        tags:
            - { name: darvin_admin.view_widget }

    darvin_payment.admin.view.widget.payment_operation:
        class:  '%darvin_payment.admin.view.widget.payment_operation.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - '@state_machine.payment'
        calls:
            - [ setApproveFormRenderer, [ '@?darvin_payment.admin.approve.form.renderer' ] ]
            - [ setCaptureFormRenderer, [ '@?darvin_payment.admin.capture.form.renderer' ] ]
            - [ setRefundFormRenderer,  [ '@?darvin_payment.admin.refund.form.renderer' ] ]
            - [ setVoidFormRenderer,    [ '@?darvin_payment.admin.void.form.renderer' ] ]
        tags:
            - { name: darvin_admin.view_widget }

    darvin_payment.admin.view.widget.payment_state:
        class:  '%darvin_payment.admin.view.widget.payment_state.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - '@translator'
        tags:
            - { name: darvin_admin.view_widget }
