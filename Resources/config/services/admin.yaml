parameters:
    darvin_payment.admin.controller.approve.class: Darvin\PaymentBundle\Controller\Admin\ApproveController
    darvin_payment.admin.controller.capture.class: Darvin\PaymentBundle\Controller\Admin\CaptureController
    darvin_payment.admin.controller.refund.class: Darvin\PaymentBundle\Controller\Admin\RefundController
    darvin_payment.admin.controller.void.class: Darvin\PaymentBundle\Controller\Admin\VoidController

    darvin_payment.admin.view.widget.log_level.class: Darvin\PaymentBundle\Admin\View\Widget\LogLevelWidget
    darvin_payment.admin.view.widget.payment_operation.class: Darvin\PaymentBundle\Admin\View\Widget\PaymentOperationWidget
    darvin_payment.admin.view.widget.payment_state.class: Darvin\PaymentBundle\Admin\View\Widget\PaymentStateWidget

    darvin_payment.admin.from.renderer.abstract.class: Darvin\PaymentBundle\Form\Renderer\AbstractFormRenderer
    darvin_payment.admin.from.renderer.approve.class: Darvin\PaymentBundle\Form\Renderer\ApproveFormRenderer
    darvin_payment.admin.form.renderer.capture.class: Darvin\PaymentBundle\Form\Renderer\CaptureFormRenderer
    darvin_payment.admin.form.renderer.refund.class: Darvin\PaymentBundle\Form\Renderer\RefundFormRenderer
    darvin_payment.admin.form.renderer.void.class: Darvin\PaymentBundle\Form\Renderer\VoidFormRenderer

services:
    darvin_payment.admin.controller.approve:
        class: '%darvin_payment.admin.controller.approve.class%'
        parent: darvin_payment.controller.abstract
        calls:
            - [ setAdminRouter,          [ '@darvin_admin.router' ] ]
            - [ setAuthorizationChecker, [ '@security.authorization_checker' ] ]
            - [ setFlashNotifier,        [ '@darvin_utils.flash.notifier' ] ]
            - [ setRequestStack,         [ '@request_stack' ] ]
        tags:
            - { name: controller.service_arguments }

    darvin_payment.admin.controller.capture:
        class: '%darvin_payment.admin.controller.capture.class%'
        parent: darvin_payment.controller.abstract
        calls:
            - [ setAdminRouter,          [ '@darvin_admin.router' ] ]
            - [ setAuthorizationChecker, [ '@security.authorization_checker' ] ]
            - [ setFlashNotifier,        [ '@darvin_utils.flash.notifier' ] ]
            - [ setRequestStack,         [ '@request_stack' ] ]
            - [ setFormRenderer,         [ '@darvin_payment.admin.form.renderer.capture' ] ]
        tags:
            - { name: controller.service_arguments }

    darvin_payment.admin.controller.refund:
        class: '%darvin_payment.admin.controller.refund.class%'
        parent: darvin_payment.controller.abstract
        calls:
            - [ setAdminRouter,          [ '@darvin_admin.router' ] ]
            - [ setAuthorizationChecker, [ '@security.authorization_checker' ] ]
            - [ setFlashNotifier,        [ '@darvin_utils.flash.notifier' ] ]
            - [ setRequestStack,         [ '@request_stack' ] ]
            - [ setFormRenderer,         [ '@darvin_payment.admin.form.renderer.refund' ] ]
        tags:
            - { name: controller.service_arguments }

    darvin_payment.admin.controller.void:
        class: '%darvin_payment.admin.controller.void.class%'
        parent: darvin_payment.controller.abstract
        calls:
            - [ setAdminRouter,          [ '@darvin_admin.router' ] ]
            - [ setAuthorizationChecker, [ '@security.authorization_checker' ] ]
            - [ setFlashNotifier,        [ '@darvin_utils.flash.notifier' ] ]
            - [ setRequestStack,         [ '@request_stack' ] ]
            - [ setFormRenderer,         [ '@darvin_payment.admin.form.renderer.void' ] ]
        tags:
            - { name: controller.service_arguments }

    darvin_payment.admin.view.widget.log_level:
        class:  '%darvin_payment.admin.view.widget.log_level.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - '@translator'
        tags:
            - { name: darvin_admin.view_widget }

    darvin_payment.admin.view.widget.payment_operation:
        class:  '%darvin_payment.admin.view.widget.payment_operation.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - "@darvin_payment.admin.from.renderer.approve"
            - "@darvin_payment.admin.form.renderer.capture"
        tags:
            - { name: darvin_admin.view_widget }

    darvin_payment.admin.view.widget.payment_state:
        class:  '%darvin_payment.admin.view.widget.payment_state.class%'
        parent: darvin_admin.view.widget.abstract
        arguments:
            - '@translator'
        tags:
            - { name: darvin_admin.view_widget }

    darvin_payment.admin.from.renderer.abstract:
        class: '%darvin_payment.admin.from.renderer.abstract.class%'
        abstract: true
        arguments:
            - '@darvin_payment.url.builder'
            - '@twig'

    darvin_payment.admin.from.renderer.approve:
        class:  '%darvin_payment.admin.from.renderer.approve.class%'
        parent: darvin_payment.admin.from.renderer.abstract

    darvin_payment.admin.form.renderer.capture:
        class:  '%darvin_payment.admin.form.renderer.capture.class%'
        parent: darvin_payment.admin.from.renderer.abstract

    darvin_payment.admin.form.renderer.refund:
        class: '%darvin_payment.admin.form.renderer.refund.class%'
        parent: darvin_payment.admin.from.renderer.abstract

    darvin_payment.admin.form.renderer.void:
        class: '%darvin_payment.admin.form.renderer.void.class%'
        parent: darvin_payment.admin.from.renderer.abstract
