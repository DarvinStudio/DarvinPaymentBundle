parameters:
    darvin_payment.payment.factory.class: Darvin\PaymentBundle\Payment\PaymentFactory
    darvin_payment.payment.created_subscriber.class: Darvin\PaymentBundle\EventListener\Payment

services:
    Darvin\PaymentBundle\Payment\PaymentFactoryInterface: '@darvin_payment.payment.factory'

    darvin_payment.payment.factory:
        class: '%darvin_payment.payment.factory.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@Darvin\Utils\ORM\EntityResolverInterface'
            - '%darvin_payment.default_currency%'
        public: true

    darvin_payment.payment.created_subscriber:
        class: '%darvin_payment.payment.created_subscriber.class%'
        arguments:
            - '@event_dispatcher'
        tags:
            - { name: kernel.event_subscriber }
